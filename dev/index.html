<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Packer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <!-- build:css styles/styles.css -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
  <!-- endbuild -->
</head>
<body ng-app="packer" ng-controller="packerCtrl">

<header>
  <md-toolbar class="md-primary">
    <div class="md-toolbar-tools" layout-align="start center">
      <h2>Packer: HearthStone mass pack opening simulator</h2>
      <span flex></span>
    </div>
  </md-toolbar>
  <br/>
</header>
<main layout="row" ng-cloak>
  <md-content layout="column" flex-offset-gt-sm="10" flex-gt-sm="80" flex="100">
    <div layout-gt-sm="row" layout="column" layout-align="start center">
      <md-input-container class="inline-input">
        <label>Number of packs</label>
        <input type="number" ng-model="noPacks" placeholder="50" min="1" max="9999" ng-enter="open()">
      </md-input-container>
      <md-radio-group ng-model="set" layout="row">
        <md-radio-button value="WOG" class="md-primary">WOG</md-radio-button>
        <md-radio-button value="TGT" class="md-primary" disabled="disabled">
          TGT
          <md-tooltip>will be implemented as soon as WOG is released</md-tooltip>
        </md-radio-button>
        <md-radio-button value="CLASSIC" class="md-primary" disabled="disabled">
          CLASSIC
          <md-tooltip>will be implemented as soon as WOG is released</md-tooltip>
        </md-radio-button>
      </md-radio-group>
      <md-button class="md-raised" ng-click="open()" ng-disabled="!noPacks">OPEN</md-button>
    </div>
    <h2>stats</h2>
    <div layout="column">
      <table>
        <tbody>
        <tr>
          <td>Rarity</td>
          <td>Total</td>
          <td>Golden</td>
        </tr>
        <tr>
          <td>Commons</td>
          <td>{{stats.norm.comm}} ({{(stats.norm.comm / stats.cards * 100).toFixed(2)}}%)</td>
          <td>{{stats.gold.comm}}</td>
        </tr>
        <tr>
          <td>Rares</td>
          <td>{{stats.norm.rare}} ({{(stats.norm.rare / stats.cards * 100).toFixed(2)}}%)</td>
          <td>{{stats.gold.rare}}</td>
        </tr>
        <tr>
          <td>Epics</td>
          <td>{{stats.norm.epic}} ({{(stats.norm.epic / stats.cards * 100).toFixed(2)}}%)</td>
          <td>{{stats.gold.epic}}</td>
        </tr>
        <tr>
          <td>Legendaries</td>
          <td>{{stats.norm.lgnd}} ({{(stats.norm.lgnd / stats.cards * 100).toFixed(2)}}%)</td>
          <td>{{stats.gold.lgnd}}</td>
        </tr>
        <tr>
          <td><br/></td>
        </tr>
        <tr>
          <td>Dust value (extra)</td>
          <td>{{stats.dust.norm.all}} ({{stats.dust.norm.extra}}) +</td>
          <td>{{stats.dust.gold.all}} ({{stats.dust.gold.extra}})</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td> = {{stats.dust.norm.all + stats.dust.gold.all}} ({{stats.dust.norm.extra + stats.dust.gold.extra}})</td>
        </tr>
        </tbody>
      </table>
    </div>
    <br/>

    <div layout-align="start center" layout="row">
      <h2>packs</h2>
      <span flex="5"></span>
      <md-button ng-click="pack()" class="md-raised">JUST ONE MORE PLS</md-button>
    </div>
    <div ng-repeat="pack in packs" layout="row">
      <span flex="5">{{$index}}</span>

      <div flex="95" layout="row" layout-wrap>
        <card data="card" ng-repeat="card in pack" flex-gt-md="20" flex="50" flex-gt-sm="33" flex-xs="100"></card>
      </div>
    </div>
    <br/>

    <h2>collection</h2>

    <div layout="column">
      <div ng-repeat="(name, cnt) in stats.collection">
        <h3>{{name}}</h3>

        <div layout="row" layout-wrap>
          <span ng-repeat="(cname, card) in cnt" flex-gt-md="20" flex="50" flex-gt-sm="33" flex-xs="100">
            <card data="card"></card>
          </span>
        </div>
        <br/>
      </div>

    </div>
    <br/>
  </md-content>
</main>
<footer>
  <hr>
  <p>made by SpeedoDevo with &lt;3</p>
</footer>

<div class="forkme">
  <a href="https://github.com/SpeedoDevo/packer" target="_blank">Fork me on Github</a>
</div>

<!-- build:js scripts/scripts.js -->
<script type="text/javascript" src="bower_components/angular/angular.js"></script>
<script type="text/javascript" src="bower_components/angular-animate/angular-animate.js"></script>
<script type="text/javascript" src="bower_components/angular-aria/angular-aria.js"></script>
<script type="text/javascript" src="bower_components/angular-messages/angular-messages.js"></script>
<script type="text/javascript" src="bower_components/angular-material/angular-material.js"></script>
<script type="text/javascript" src="bower_components/mersennetwister/src/MersenneTwister.js"></script>


<script type="text/javascript" src="vendor/browser-polyfill.js"></script>


<script type="text/javascript" src="scripts/app.js"></script>
<script type="text/javascript" src="scripts/brl.js"></script>
<!-- endbuild -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48744326-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>